{
  "name": "ä½ç²‰çˆ†æ¬¾è§†é¢‘å¤åˆ»å·¥ä½œæµ open",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1840,
        96
      ],
      "id": "a6fdda3d-c592-46e3-8917-d3a73329b66d",
      "name": "When clicking â€˜Execute workflowâ€™"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "24c629a6-152d-8020-99c1-da383799f143",
          "mode": "list",
          "cachedResultName": "æŠ–éŸ³ä½ç²‰çˆ†æ¬¾è§†é¢‘",
          "cachedResultUrl": "https://www.notion.so/24c629a6152d802099c1da383799f143"
        },
        "simple": false,
        "filterType": "manual",
        "filters": {
          "conditions": [
            {
              "key": "è½¬å½•|rich_text",
              "condition": "is_empty"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        -1392,
        96
      ],
      "id": "3712d7bf-4a17-414a-b974-1c8a445bad39",
      "name": "Get many database pages"
    },
    {
      "parameters": {
        "url": " https://www.mxnzp.com/api/douyin/video",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ $('Loop Over Items').item.json.base64_url }}"
            },
            {
              "name": "app_id",
              "value": "å¡«å†™å¹³å°çš„APP_ID"
            },
            {
              "name": "app_secret",
              "value": "å¡«å†™å¹³å°çš„APP_SECRET"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -240,
        96
      ],
      "id": "5b4b6ee2-2fdf-4d72-94f4-52874e4d2c31",
      "name": "è·å–æ— æ°´å°è§†é¢‘",
      "notesInFlow": true,
      "retryOnFail": true,
      "notes": "ä¸‹è½½æŠ–éŸ³æ— æ°´å°è§†é¢‘"
    },
    {
      "parameters": {
        "url": "={{ $json.data.url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -32,
        208
      ],
      "id": "46f28ba5-4009-40f9-b6f1-869597a01839",
      "name": "ä¸‹è½½è§†é¢‘",
      "retryOnFail": true
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/åŸè§†é¢‘.mp4",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        224,
        208
      ],
      "id": "362b38cf-b41d-47d0-a0e1-30448a36b923",
      "name": "Read/Write Files from Disk"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/åŸå°é¢.jpg",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        224,
        0
      ],
      "id": "7eef9a56-9b6a-4c87-a631-68cab1f71177",
      "name": "Read/Write Files from Disk1"
    },
    {
      "parameters": {
        "url": "={{ $json.data.cover }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -16,
        0
      ],
      "id": "008df240-0a1f-4dd8-9667-3c0bb28afc1f",
      "name": "ä¸‹è½½å°é¢",
      "retryOnFail": true
    },
    {
      "parameters": {
        "fileSelector": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/åŸéŸ³é¢‘.mp3",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        -1616,
        464
      ],
      "id": "47f6b38c-d476-4a7f-8156-ee98cac96707",
      "name": "Read/Write Files from Disk2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        -1152,
        688
      ],
      "id": "c7b38322-bfec-4331-bcf6-73740bc04bf7",
      "name": "DeepSeek Chat Model"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "update",
        "pageId": {
          "__rl": true,
          "value": "={{ $('Loop Over Items').item.json.id }}",
          "mode": "id"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "è½¬å½•|rich_text",
              "textContent": "å·²è½¬å½•"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        -624,
        464
      ],
      "id": "7cdaa91e-3c72-4584-82ba-15bc97a27c40",
      "name": "Update a database page"
    },
    {
      "parameters": {
        "resource": "block",
        "blockId": {
          "__rl": true,
          "value": "={{ $json.id }}",
          "mode": "id"
        },
        "blockUi": {
          "blockValues": [
            {
              "type": "heading_3",
              "textContent": "åŸæ–‡æ¡ˆ"
            },
            {
              "textContent": "={{ $('éŸ³é¢‘è½¬å½•').item.json.text }}"
            },
            {
              "type": "heading_3",
              "textContent": "ç¿»æ‹æ–‡æ¡ˆ"
            },
            {
              "textContent": "={{ $('ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ').item.json.output.copywriting }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        -336,
        464
      ],
      "id": "89c49e8d-5210-4508-a4fc-f3cdf3d82889",
      "name": "Append a block"
    },
    {
      "parameters": {
        "maxItems": 2
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -944,
        96
      ],
      "id": "c69e3bc2-eef3-467f-8977-40240b32e1ce",
      "name": "Limit"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/ç¿»æ‹æ–‡æ¡ˆ.txt",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        224,
        464
      ],
      "id": "cca4ec6d-c20e-4c56-b3a4-550a3684d3df",
      "name": "Read/Write Files from Disk3"
    },
    {
      "parameters": {
        "jsCode": "// è·å–æ‰€æœ‰è¾“å…¥æ•°æ®\nconst items = $input.all();\n\n// å¤„ç†æ¯ä¸ªitemï¼Œå°†URLè½¬æ¢ä¸ºbase64\nconst processedItems = items.map((item, index) => {\n  // è·å–åŸå§‹URL\n  const originalUrl = item.json.properties[\"ç½‘å€\"].url;\n  \n  // å°†URLè½¬æ¢ä¸ºbase64ç¼–ç \n  const base64Url = Buffer.from(originalUrl, 'utf8').toString('base64');\n  \n  return {\n    json: {\n      ...item.json, // ä¿ç•™åŸæœ‰æ•°æ®\n      base64_url: base64Url, // æ·»åŠ base64ç¼–ç çš„URL\n      original_url: originalUrl // å¯é€‰ï¼šä¿ç•™åŸå§‹URLä½œä¸ºå‚è€ƒ\n    }\n  };\n});\n\n// è¿”å›å¤„ç†åçš„æ•°æ®\nreturn processedItems;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1168,
        96
      ],
      "id": "6fd04d9c-4104-4f5e-abbc-768d6945dee2",
      "name": "è½¬Base64"
    },
    {
      "parameters": {
        "command": "=mkdir -p \"./n8ndata/{{ $json.properties.ID.rich_text[0].text.content }}\""
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        -464,
        96
      ],
      "id": "85b2672c-d33d-4556-8089-b00dcd3c403d",
      "name": "åˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹"
    },
    {
      "parameters": {
        "command": "=[ ! -f \"./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/åŸéŸ³é¢‘.mp3\" ] && ffmpeg -i \"./n8ndata/{{ $('Limit').item.json.properties.ID.rich_text[0].text.content }}/åŸè§†é¢‘.mp4\" -q:a 0 -map a \"./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/åŸéŸ³é¢‘.mp3\" || echo \"åŸéŸ³é¢‘.mp3 å·²å­˜åœ¨ï¼Œè·³è¿‡\""
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        -1840,
        464
      ],
      "id": "e5d90a0b-e9cd-4610-9a78-2892ab5fad50",
      "name": "è§†é¢‘è½¬éŸ³é¢‘"
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        -1376,
        464
      ],
      "id": "02e0dfef-d097-465d-9dd6-2b906c252b7e",
      "name": "éŸ³é¢‘è½¬å½•",
      "retryOnFail": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=åŸæ–‡æ¡ˆï¼š{{ $json.text }}",
        "hasOutputParser": true,
        "needsFallback": true,
        "options": {
          "systemMessage": "=ä½ æ˜¯ä¸€åèµ„æ·±çŸ­è§†é¢‘çˆ†æ¬¾æ–‡æ¡ˆåˆ›ä½œè€…ï¼Œè¯·æ ¹æ®ç”¨æˆ·æä¾›çš„åŸæ–‡æ¡ˆè¿›è¡Œæ”¹å†™å’Œæ¶¦è‰²ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š\n\n1. ä¿ç•™åŸæ–‡æ¡ˆè‡ªå¸¦çš„çˆ†æ¬¾é€»è¾‘å’Œç»“æ„ï¼ˆå¦‚å¼€å¤´é’©å­ã€è®¾é—®ã€æ¡ˆä¾‹ã€ç—›ç‚¹å…±é¸£ã€è§£å†³æ–¹æ¡ˆã€å¯¹æ¯”ã€åœºæ™¯ä»£å…¥ã€è¡ŒåŠ¨å·å¬ç­‰ï¼‰ï¼Œä¿æŒå†…å®¹èŠ‚å¥å’Œä¼ æ’­åŠ›ï¼Œä¸è¦å›ºå®šæ­»æ¿çš„ç»“æ„ï¼Œä½†è¦ç»´æŒâ€œçˆ†ç‚¹é€»è¾‘â€ã€‚\n2. åˆ é™¤æ‰€æœ‰èº«ä»½ä¿¡æ¯æˆ–è§’è‰²è®¾å®šï¼ˆä¾‹å¦‚â€œæˆ‘æ˜¯è€ç‹â€ï¼‰ï¼Œä¸èƒ½å‡ºç°ä»»ä½•å¯èƒ½æš´éœ²åŸä½œè€…çš„æè¿°ã€‚\n3. åœ¨ä¿æŒæ ¸å¿ƒä¿¡æ¯ä¸å˜çš„å‰æä¸‹ï¼Œä½¿ç”¨æ›´æœ‰å†²å‡»åŠ›ã€æ›´å£è¯­åŒ–ã€æ›´ç®€æ´çš„è¡¨è¾¾ï¼Œé€‚åˆçŸ­è§†é¢‘å£æ’­å’Œå­—å¹•ã€‚\n4. å¥å­å°½é‡ç®€çŸ­æœ‰åŠ›ï¼Œé¿å…åºŸè¯ï¼Œå¢å¼ºä»£å…¥æ„Ÿå’Œæ„ŸæŸ“åŠ›ã€‚\n5. æ–‡æ¡ˆå†…ä½¿ç”¨ç®€å•æ ‡ç‚¹ç¬¦å·å¦‚é€—å·ï¼Œå¥å·åšåˆ†å‰²ï¼›ä½†ä¸ä½¿ç”¨ç‰¹æ®Šç¬¦å·ï¼Œå¦‚è¡¨æƒ…ç¬¦å·ã€å¤§æ‹¬å·ã€å°æ‹¬å·ã€æ¢è¡Œç¬¦ç­‰ã€‚\n6. åŒæ—¶ç”Ÿæˆä¸€ç»„å’Œæ–‡æ¡ˆå†…å®¹æœ‰å…³ç³»çš„è‹±æ–‡keywordsï¼Œä»¥ä¾¿æˆ‘ç”¨äºæœç´¢ç´ æã€‚"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -1072,
        464
      ],
      "id": "4cdb8917-5c48-4a44-be27-299624ceb665",
      "name": "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://openspeech.bytedance.com/api/v1/tts",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer;ç«å±±å¼•æ“åº”ç”¨å¯†é’¥"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"app\": {\n        \"appid\": \"ç«å±±å¼•æ“åº”ç”¨appid\",\n        \"token\": \"12345\",\n        \"cluster\": \"volcano_tts\"\n    },\n    \"user\": {\n        \"uid\": \"uid123\"\n    },\n    \"audio\": {\n        \"voice_type\": \"{{ $('éŸ³è‰²é€‰æ‹©').item.json[\"äº®å—“èŒä»”\"] }}\",\n        \"encoding\": \"mp3\",\n        \"speed_ratio\": 1.0\n    },\n    \"request\": {\n        \"reqid\": \"{{ $json.UUID }}\",\n        \"text\": \"{{ $('ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ').item.json.output.copywriting }}\",\n        \"operation\": \"query\"\n    }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1616,
        880
      ],
      "id": "3eb24c1f-103e-4a0d-95ad-cf158a899edc",
      "name": "HTTP Request1",
      "retryOnFail": true
    },
    {
      "parameters": {
        "action": "generate",
        "dataPropertyName": "UUID"
      },
      "type": "n8n-nodes-base.crypto",
      "typeVersion": 1,
      "position": [
        -1840,
        880
      ],
      "id": "69b06143-24a9-413a-bd63-4d304b117718",
      "name": "Crypto1"
    },
    {
      "parameters": {
        "jsCode": "// è·å–è¾“å…¥çš„ base64 å­—ç¬¦ä¸²\nlet base64AudioData = $input.first().json.data;\n\n// ç§»é™¤å¯èƒ½çš„ base64 å‰ç¼€\nbase64AudioData = base64AudioData.replace(/^data:audio\\/[^;]+;base64,/, '');\nbase64AudioData = base64AudioData.replace(/[\\r\\n\\s]/g, '');\n\n// è½¬æ¢ä¸º Buffer\nconst audioBuffer = Buffer.from(base64AudioData, 'base64');\n\n// è¿”å› n8n æ ‡å‡† item\nreturn [\n  {\n    json: {\n      message: 'Audio decoded successfully',\n      size: audioBuffer.length\n    },\n    binary: {\n      audio: {\n        // æ³¨æ„è¿™é‡Œè¦è½¬å› base64\n        data: audioBuffer.toString('base64'),  \n        mimeType: 'audio/mpeg',  // æ›´é€šç”¨çš„ MIMEï¼ˆæ¨èç”¨ audio/mpeg è€Œä¸æ˜¯ audio/mp3ï¼‰\n        fileName: 'decoded_audio.mp3'\n      }\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1392,
        880
      ],
      "id": "04d0a976-e3ba-4f04-9ecd-683af1c56d20",
      "name": "Code"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/ç¿»æ‹éŸ³é¢‘.mp3",
        "dataPropertyName": "audio",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        -1168,
        880
      ],
      "id": "a12df051-804d-46f8-b696-8032994d0558",
      "name": "Read/Write Files from Disk4"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"copywriting\": \"ç¿»æ‹æ–‡æ¡ˆ\",\n\t\"keywords\": [\"å…³é”®è¯\", \"å…³é”®è¯\", \"å…³é”®è¯\"]\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -880,
        688
      ],
      "id": "b2d378f9-70e1-4b24-88c9-b6a8c5872531",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "url": "https://api.pexels.com/videos/search",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "={{ $('ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ').item.json.output.keywords[Math.floor(Math.random() * $('ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ').item.json.output.keywords.length)] }}"
            },
            {
              "name": "per_page",
              "value": "5"
            },
            {
              "name": "orientation",
              "value": "portrait"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "pexelså¹³å°å¯†é’¥"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -896,
        880
      ],
      "id": "da562bdd-ffc5-4fc8-a320-b795457746ea",
      "name": "HTTP Request",
      "retryOnFail": true,
      "notesInFlow": true,
      "notes": "æ ¹æ®å…³é”®è¯è·å–ç´ æ"
    },
    {
      "parameters": {
        "operation": "write",
        "fileName": "=./n8ndata/{{ $('Loop Over Items').item.json.properties.ID.rich_text[0].text.content }}/ç¿»æ‹ç´ æ{{$itemIndex}}.mp4",
        "options": {}
      },
      "type": "n8n-nodes-base.readWriteFile",
      "typeVersion": 1,
      "position": [
        224,
        880
      ],
      "id": "15abe524-115c-4e95-8064-ae60ca0072ae",
      "name": "Read/Write Files from Disk5"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "64c79c5f-b02d-4bba-943b-5b542951178c",
              "name": "æ‡’éŸ³ç»µå®",
              "value": "zh_male_lanxiaoyang_mars_bigtts",
              "type": "string"
            },
            {
              "id": "496d1f75-fa81-4e08-b311-ff1f99fdfa8d",
              "name": "äº®å—“èŒä»”",
              "value": "zh_male_dongmanhaimian_mars_bigtts",
              "type": "string"
            },
            {
              "id": "52914278-d4a1-478e-a55f-57c937543c01",
              "name": "ç†ŠäºŒ",
              "value": "zh_male_xionger_mars_bigtts",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1616,
        96
      ],
      "id": "eba06678-50fb-42ad-bba5-a15f2d2feb09",
      "name": "éŸ³è‰²é€‰æ‹©",
      "notesInFlow": true,
      "notes": "å¯ä»¥æ ¹æ®åˆ†ç±»å’Œæ–‡æ¡ˆï¼Œè‡ªå®šä¹‰ä¸åŒçš„éŸ³è‰²ï¼Œè§†é¢‘æ•ˆæœå¤šå…ƒåŒ–"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -704,
        96
      ],
      "id": "daee1798-6aaf-48b9-9bd0-e0032f55d628",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "jsCode": "// è·å–è¾“å…¥æ•°æ®\nconst transcribeText = $('éŸ³é¢‘è½¬å½•').item.json.text || '';\nconst aiOutput = $('ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ').first().json.output.copywriting || '';\n\n// ç»„åˆæ–‡æœ¬å†…å®¹\nconst combinedContent = `åŸæ–‡æ¡ˆï¼š\n${transcribeText}\n\nç¿»æ‹æ–‡æ¡ˆï¼š\n${aiOutput}`;\n\n// ç”Ÿæˆæ–‡ä»¶åï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰\nconst timestamp = new Date().toISOString().slice(0, 19).replace(/[:-]/g, '');\nconst fileName = `combined_text_${timestamp}.txt`;\n\n// è½¬æ¢ä¸ºbase64æ ¼å¼\nconst base64Content = Buffer.from(combinedContent, 'utf8').toString('base64');\n\nreturn [\n  {\n    json: {\n      fileName: fileName,\n      fileSize: combinedContent.length\n    },\n    binary: {\n      data: {\n        data: base64Content,\n        mimeType: 'text/plain',\n        fileName: fileName,\n        fileExtension: 'txt'\n      }\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -32,
        464
      ],
      "id": "49cd47d6-852b-4ca8-89fc-57e9b108ff8a",
      "name": "ç”Ÿæˆæ–‡æ¡ˆæ–‡ä»¶"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ae930b84-e03c-4c1f-bbf2-cd694bc06f27",
              "leftValue": "={{ $json.total_results }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -640,
        880
      ],
      "id": "7034c991-f014-4d54-a9f4-05142415fd5b",
      "name": "åˆ¤æ–­ç´ æ"
    },
    {
      "parameters": {
        "url": "={{ $json.link }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -48,
        880
      ],
      "id": "c1e58ccb-4121-4619-9cc5-9f4432805d1b",
      "name": "ä¸‹è½½ç´ æ",
      "retryOnFail": true
    },
    {
      "parameters": {
        "jsCode": "return $json.videos\n  .filter(v => v.video_files.length >= 4)   // å…ˆè¿‡æ»¤æ‰ä¸è¶³ 4 ä¸ªçš„\n  .map(v => {\n    return {\n      json: {\n        link: v.video_files[3].link\n      }\n    };\n  });\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -336,
        880
      ],
      "id": "7eccc1dd-e2c2-47de-a260-0db75c6c4322",
      "name": "æ ¼å¼åŒ–ç´ æURL"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-chat-latest",
          "mode": "list",
          "cachedResultName": "gpt-5-chat-latest"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1024,
        688
      ],
      "id": "d27c3f77-8130-425c-9f87-f2567cc94b86",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "content": "ğŸ¤– ä½ç²‰çˆ†æ¬¾è§†é¢‘å¤åˆ»å·¥ä½œæµ\nğŸ“‹ åŸºæœ¬ä¿¡æ¯\n\nå·¥ä½œæµåç§°ï¼šä½ç²‰çˆ†æ¬¾è§†é¢‘å¤åˆ»å·¥ä½œæµ\næ ¸å¿ƒåŠŸèƒ½ï¼šè‡ªåŠ¨åˆ¶ä½œçŸ­è§†é¢‘\nä¸»è¦æŠ€æœ¯ï¼šN8N + FFmpeg + å¤šä¸ªå¤–éƒ¨API\nåˆ›å»ºè€…ï¼štianxinAI\nå¾®ä¿¡ï¼štianxinAI360\nğŸ¯ åŠŸèƒ½ä»‹ç»\n\nè¿™æ˜¯ä¸€ä¸ªå¸®ä½ è‡ªåŠ¨åˆ¶ä½œçŸ­è§†é¢‘çš„æ™ºèƒ½å·¥å…·ã€‚å®ƒèƒ½ä»ç½‘ä¸Šæ‰¾ç´ æã€ç”Ÿæˆé…éŸ³ã€åˆæˆè§†é¢‘ï¼Œè®©ä½ è½»æ¾å¤åˆ»çƒ­é—¨è§†é¢‘ã€‚\n\nâš¡ ä¸»è¦ç‰¹ç‚¹\n\nå…¨è‡ªåŠ¨æµç¨‹ï¼šä»æ‰¾ç´ æåˆ°å‡ºè§†é¢‘ï¼Œä¸€æ¡é¾™æå®šã€‚\nAIé…éŸ³ï¼šç”¨ç«å±±å¼•æ“çš„AIæŠŠæ–‡å­—å˜æˆçœŸäººè¯­éŸ³ã€‚\nç´ æä¸°å¯Œï¼šå¯ä»¥ä»Pexelsç­‰å¹³å°æ‰¾é«˜æ¸…è§†é¢‘å’Œå›¾ç‰‡ã€‚\nè§†é¢‘å¤„ç†ï¼šç”¨FFmpegä¸“ä¸šå·¥å…·æ¥å‰ªè¾‘å’Œåˆæˆã€‚\næ¨¡æ¿åŒ–æ“ä½œï¼šæœ‰ç°æˆçš„Notionæ¨¡æ¿å¸®ä½ è§„åˆ’å†…å®¹ã€‚\nğŸ› ï¸ éœ€è¦ç”¨åˆ°çš„å·¥å…·\n\nç«å±±å¼•æ“è¯­éŸ³åˆæˆï¼šç”¨æ¥ç”Ÿæˆè§†é¢‘é…éŸ³ã€‚\næŠ–éŸ³è§†é¢‘è§£æAPIï¼šç”¨æ¥è·å–å‚è€ƒè§†é¢‘ã€‚\nPexelsç´ æå¹³å°ï¼šä¸‹è½½å…è´¹çš„è§†é¢‘å’Œå›¾ç‰‡ç´ æã€‚\nNotionå†…å®¹æ¨¡æ¿ï¼šå¸®ä½ æ•´ç†è§†é¢‘è„šæœ¬å’Œç»“æ„ã€‚\nğŸ”§ å®‰è£…FFmpegï¼ˆé‡è¦æ­¥éª¤ï¼‰\n\nè§†é¢‘åˆæˆéœ€è¦FFmpegå·¥å…·ï¼Œåœ¨N8Né‡Œéœ€è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ï¼š\n\nè¿›å…¥N8Nå®¹å™¨ï¼šdocker exec -it --user root n8n sh\nå®‰è£…FFmpegï¼šapk add --no-cache ffmpeg\né€€å‡ºå®¹å™¨ï¼šexit\nå°æç¤ºï¼šå¦‚æœå‡çº§æˆ–é‡è£…äº†N8Nï¼Œå¯èƒ½éœ€è¦é‡æ–°å®‰è£…FFmpegã€‚",
        "height": 720,
        "width": 736
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        480,
        -128
      ],
      "typeVersion": 1,
      "id": "1c295275-5bbf-42f1-ace2-f08844795519",
      "name": "Sticky Note"
    }
  ],
  "pinData": {},
  "connections": {
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "éŸ³è‰²é€‰æ‹©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get many database pages": {
      "main": [
        [
          {
            "node": "è½¬Base64",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è·å–æ— æ°´å°è§†é¢‘": {
      "main": [
        [
          {
            "node": "ä¸‹è½½è§†é¢‘",
            "type": "main",
            "index": 0
          },
          {
            "node": "ä¸‹è½½å°é¢",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸‹è½½è§†é¢‘": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸‹è½½å°é¢": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk": {
      "main": [
        [
          {
            "node": "è§†é¢‘è½¬éŸ³é¢‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk2": {
      "main": [
        [
          {
            "node": "éŸ³é¢‘è½¬å½•",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Update a database page": {
      "main": [
        [
          {
            "node": "Append a block",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append a block": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆæ–‡æ¡ˆæ–‡ä»¶",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è½¬Base64": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹": {
      "main": [
        [
          {
            "node": "è·å–æ— æ°´å°è§†é¢‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§†é¢‘è½¬éŸ³é¢‘": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "éŸ³é¢‘è½¬å½•": {
      "main": [
        [
          {
            "node": "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ": {
      "main": [
        [
          {
            "node": "Update a database page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk3": {
      "main": [
        [
          {
            "node": "Crypto1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Crypto1": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk4": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "åˆ¤æ–­ç´ æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "éŸ³è‰²é€‰æ‹©": {
      "main": [
        [
          {
            "node": "Get many database pages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "åˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read/Write Files from Disk5": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆæ–‡æ¡ˆæ–‡ä»¶": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ¤æ–­ç´ æ": {
      "main": [
        [
          {
            "node": "æ ¼å¼åŒ–ç´ æURL",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸‹è½½ç´ æ": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ ¼å¼åŒ–ç´ æURL": {
      "main": [
        [
          {
            "node": "ä¸‹è½½ç´ æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ç¿»æ‹æ–‡æ¡ˆç”Ÿæˆ",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "df6d06cb-d483-4a13-8d6c-deed9126ad07",
  "meta": {
    "instanceId": "a5f08ede13bceab7d066ab11fb03ba9312e3e584a39630194ecaef89c79e9ee1"
  },
  "id": "4kJkdpBj7NKEhRkU",
  "tags": []
}